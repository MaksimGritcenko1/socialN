(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{297:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var r=a(35),n=a(36),o=a(39),l=a(37),i=a(40),c=a(0),u=a.n(c),s=a(9),p=a(10),m=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){function a(){return Object(r.a)(this,a),Object(o.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(i.a)(a,t),Object(n.a)(a,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(s.a,{to:"/login"})}}]),a}(u.a.Component);return Object(p.b)(m)(t)}},299:function(e,t,a){e.exports={profileAvatar:"ProfileInfo_profileAvatar__3TOZf",jobImage:"ProfileInfo_jobImage__2_6lu",contact:"ProfileInfo_contact__19HV4",profileInfoWrapper:"ProfileInfo_profileInfoWrapper__yaL-u",avatarField:"ProfileInfo_avatarField__171IU",profileInfo:"ProfileInfo_profileInfo__1KlcP",aboutMeWrapper:"ProfileInfo_aboutMeWrapper__1mjKU",button:"ProfileInfo_button__2CM1Q"}},300:function(e,t,a){e.exports={content:"Profile_content__2_eUF",profileWrapper:"Profile_profileWrapper__LrUvv",profileInfo:"Profile_profileInfo__-dBTF",bg:"Profile_bg__21c9F"}},301:function(e,t,a){e.exports=a.p+"static/media/yes.bbcb42eb.png"},302:function(e,t,a){e.exports=a.p+"static/media/no.bf5d695c.png"},303:function(e,t,a){e.exports={globalError:"StatusHook_globalError__1woDU"}},304:function(e,t,a){e.exports={item:"Post_item__ZFx6G",img:"Post_img__2vqMW"}},305:function(e,t,a){"use strict";a.r(t);var r=a(35),n=a(36),o=a(39),l=a(37),i=a(40),c=a(0),u=a.n(c),s=a(48),p=a(300),m=a.n(p),f=a(99),b=a(299),E=a.n(b),d=a(21),h=a.n(d),v=a(301),g=a.n(v),P=a(302),O=a.n(P),_=a(303),j=a.n(_),k=function(e){var t=e.globalError,a=e.deleteError,r=Object(s.a)(e,["globalError","deleteError"]),n=Object(c.useState)(!1),o=Object(f.a)(n,2),l=o[0],i=o[1],p=Object(c.useState)(r.status),m=Object(f.a)(p,2),b=m[0],E=m[1];Object(c.useEffect)((function(){E(r.status)}),[r.status]);return u.a.createElement(u.a.Fragment,null,!l&&u.a.createElement("div",null,u.a.createElement("span",{onDoubleClick:function(){i(!0)}},"Status: ",r.status)),l&&u.a.createElement("div",null,u.a.createElement("input",{onChange:function(e){E(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),r.updateStatus(b)},value:b})),t?u.a.createElement("div",null,u.a.createElement("p",{className:j.a.globalError},"Some error happened: ",t),u.a.createElement("button",{onClick:function(){a(),E("")}},"OK")):null)},I=a(123),N=a.n(I),y=a(133),S=a(24),F=a(34),A=a.n(F),C=a(66),D=a.n(C),M=Object(y.a)({form:"profile-form"})((function(e){var t=e.handleSubmit,a=e.contacts,r=e.error;return u.a.createElement("form",{onSubmit:t},u.a.createElement("button",{className:D()(h.a.button,E.a.button)},"Save"),r&&u.a.createElement("div",{className:A.a.formError},r),u.a.createElement("br",null),u.a.createElement("b",null,"Full name:"),Object(S.c)("Full Name","fullName",S.a),u.a.createElement("b",null,"About me: "),Object(S.c)("About Me","aboutMe",S.a),u.a.createElement("b",null,"Looking for a job: "),Object(S.c)(null,"lookingForAJob",S.a,[],{type:"checkbox"}),u.a.createElement("b",null,"Professional skills: "),Object(S.c)("My professional skills","lookingForAJobDescription",S.b,[]),Object.keys(a).map((function(e){return u.a.createElement("div",{key:e,className:E.a.contact},u.a.createElement("b",null,e," :"),Object(S.c)(e,"contacts."+e,S.a))})))})),w=function(e){var t=e.profile,a=e.isOwner,r=e.goToEditMode;return u.a.createElement("div",{className:E.a.aboutMeWrapper},u.a.createElement("div",null,a&&u.a.createElement("button",{className:D()(h.a.button,E.a.button),onClick:function(){return r()}},"Edit"),u.a.createElement("br",null),u.a.createElement("b",null,"Full Name: ",t.fullName),u.a.createElement("br",null),u.a.createElement("b",null,"About Me:"),u.a.createElement("p",null,t.aboutMe),u.a.createElement("b",null,"Looking for a job:")," ",t.lookingForAJob?u.a.createElement("img",{className:E.a.jobImage,src:g.a,alt:""}):u.a.createElement("img",{className:E.a.jobImage,src:O.a,alt:""}),t.lookingForAJob&&u.a.createElement("div",null,u.a.createElement("b",null,"My professional skills:"),u.a.createElement("p",null,t.lookingForAJobDescription))),u.a.createElement("div",null,u.a.createElement("h4",null,"Websites:"),Object.keys(t.contacts).map((function(e){return u.a.createElement(W,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))))},W=function(e){var t=e.contactTitle,a=e.contactValue;return u.a.createElement("div",{className:E.a.contact},u.a.createElement("b",null,t," :")," ",a)},x=function(e){var t=e.profile,a=e.isOwner,r=e.saveProfile,n=(e.updateProfileData,e.globalError),o=e.deleteError,l=Object(s.a)(e,["profile","isOwner","saveProfile","updateProfileData","globalError","deleteError"]),i=Object(c.useState)(!1),p=Object(f.a)(i,2),m=p[0],b=p[1],d=Object(c.useState)(!1),v=Object(f.a)(d,2),g=v[0],P=v[1];return u.a.createElement("div",{className:E.a.profileInfoWrapper},u.a.createElement("div",{className:E.a.avatarField},u.a.createElement("div",null,u.a.createElement("img",{className:E.a.profileAvatar,src:t.photos.large||N.a,alt:""})),u.a.createElement("div",null,a&&u.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&l.savePhoto(e.target.files[0])}}))),u.a.createElement("div",{className:E.a.profileInfo},u.a.createElement(k,{globalError:n,deleteError:o,aboutMe:t.aboutMe,updateStatus:l.updateStatus,status:l.status}),g?m?u.a.createElement(M,{initialValues:t,contacts:t.contacts,onSubmit:function(e){r(e).then((function(){b(!1)}))}}):u.a.createElement("div",null,u.a.createElement("button",{className:D()(h.a.button,E.a.button),onClick:function(){return P(!1)}},"Hide Information"),u.a.createElement(w,{goToEditMode:function(){return b(!0)},profile:t,isOwner:a,saveProfile:r})):u.a.createElement("button",{className:D()(h.a.button,E.a.button),onClick:function(){return P(!0)}},"Show information")))},T=a(23),J=a(304),L=a.n(J),B=function(e){return u.a.createElement("div",{className:L.a.item},u.a.createElement("div",null,u.a.createElement("img",{className:L.a.img,src:"https://steamuserimages-a.akamaihd.net/ugc/927045848749581623/9C40119AF9CDDEE16EC0B9D40CF04AF15C6AB3C5/"})),u.a.createElement("div",null,u.a.createElement("span",null,e.message),u.a.createElement("br",null),u.a.createElement("button",{onClick:function(){return e.toLike(e.id)},className:h.a.button},"Like!"),u.a.createElement("b",null," ",e.like)))},U=a(90),V=a(56),H=u.a.memo((function(e){var t=Object(T.a)(e.posts).reverse().map((function(t){return u.a.createElement(B,{toLike:e.like,id:t.id,message:t.post,key:t.id,like:t.likes})}));return u.a.createElement("div",null,u.a.createElement("label",{htmlFor:"form"},"My posts"),u.a.createElement("div",null,u.a.createElement(Z,{onSubmit:function(t){e.addNewPost(t.newPostBody)}})),u.a.createElement("div",null,t))})),K=Object(V.a)(15),Z=Object(y.a)({form:"addPostsForm"})((function(e){return u.a.createElement("form",{onSubmit:e.handleSubmit},u.a.createElement(U.a,{component:S.b,name:"newPostBody",validate:[V.b,K],placeholder:"type your new post here"}),u.a.createElement("button",null,"Add post"))})),q=H,G=a(10),Q=a(98),z=Object(G.b)((function(e){return{posts:e.profilePage.posts,textValue:e.profilePage.textValue}}),{addNewPost:Q.a,like:Q.e})(q),R=a(41),X=function(e){var t=e.globalError,a=e.deleteError,r=Object(s.a)(e,["globalError","deleteError"]);return r.profile?u.a.createElement("div",{className:m.a.content},u.a.createElement("div",{className:m.a.profileWrapper},u.a.createElement("div",{className:m.a.profileInfo},u.a.createElement(x,{globalError:t,updateProfileData:r.updateProfileData,savePhoto:r.savePhoto,isOwner:r.isOwner,updateStatus:r.updateStatus,status:r.status,profile:r.profile,saveProfile:r.saveProfile,deleteError:a})),u.a.createElement(z,null))):u.a.createElement(R.a,null)},Y=a(9),$=a(297),ee=a(8),te=function(e){return e.profilePage.profile},ae=function(e){return e.auth.isAuth},re=function(e){return e.profilePage.status},ne=function(e){return e.auth.userId},oe=function(e){return e.profilePage.updateProfileData},le=function(e){return e.app.globalError},ie=a(52),ce=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(n.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId)||this.props.history.push("/login"),this.props.getProfileThunkCreator(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return u.a.createElement(X,Object.assign({},this.props,{profile:this.props.profile,updateStatus:this.props.updateStatus,status:this.props.status,updateProfileData:this.props.updateProfileData,saveProfile:this.props.saveProfile,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,globalError:this.props.globalError,deleteError:this.props.deleteError}))}}]),t}(u.a.Component);t.default=Object(ee.d)(Y.g,Object(G.b)((function(e){return{profile:te(e),isAuth:ae(e),status:re(e),userId:ne(e),updateProfileData:oe(e),globalError:le(e)}}),{getProfileThunkCreator:Q.c,getStatus:Q.d,updateStatus:Q.h,savePhoto:Q.f,saveProfile:Q.g,deleteError:ie.c}),$.a)(ce)}}]);
//# sourceMappingURL=3.0e9676a9.chunk.js.map